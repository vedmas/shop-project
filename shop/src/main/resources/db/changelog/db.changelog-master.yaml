databaseChangeLog:
  - preConditions:
      - runningAs:
          username: postgres
          password: 123456

#Таблица не создается в базе. В базе появляются 2 таблицы с непонятным назначением. databasechangelog и databasechangeloglock
#Так же не работает создание таблиц через файл sql (base_shop.sql). Получилось создать таблицу только через changeSet id 7, т.е прямой командой sql.
          -changeSet:
            id: 100
            author: Alexey
            changes:
              -createTable:
                tableName: category
                columns:
                  - column:
                      name: id
                      type: int
                      autoIncrement: true
                      constraints:
                        primaryKey: true
                        nullable: false
                  - column:
                      name: name_category
                      type: varchar(50)
                      constraints:
                        unique: true
                        nullable: false
                  - column:
                      name: discount
                      type: money
                      constraints:
                        nullable: true
#  -changeSet:
#    id: 2
#    author: Alexey
#    comment: "Create category default"
#    changes:
#      - insert:
#          tableName: category
#          columns:
#            - column:
#                name: category
#                value: Smartphones & Tablets
#            - column:
#                name: discount
#                value: "10"

#  - changeSet:
#      id: 1
#      author: i
#      changes:
#        - createTable:
#            tableName: users
#            columns:
#              - column:
#                  name: id
#                  type: int
#                  autoIncrement: true
#                  constraints:
#                    primaryKey: true
#                    nullable: false
#              - column:
#                  name: username
#                  type: varchar(50)
#                  constraints:
#                    unique: true
#                    nullable: false
#              - column:
#                  name: password
#                  type: varchar(512)
#                  constraints:
#                    unique: true
#                    nullable: false
#              - column:
#                  name: first_name
#                  type: varchar(50)
#              - column:
#                  name: last_name
#                  type: varchar(50)
#              - column:
#                  name: email
#                  type: varchar(50)
#
#  - changeSet:
#      id: 2
#      author: i
#      comment: "Create admin user"
#      changes:
#        - insert:
#            tableName: users
#            columns:
#              - column:
#                  name: username
#                  value: "admin"
#              - column:
#                  name: password
#                  value: "$2a$10$uedJ6jkBS08x5mxZY6gV6.LAKSd202CiVutxz5VDq3TIyj9alkmIq"
#
#  - changeSet:
#      id: 3
#      author: i
#      changes:
#        - createTable:
#            tableName: roles
#            columns:
#              - column:
#                  name: id
#                  type: int
#                  autoIncrement: true
#                  constraints:
#                    primaryKey: true
#                    nullable: false
#              - column:
#                  name: name
#                  type: varchar(50)
#                  constraints:
#                    unique: true
#                    nullable: false
#
#  - changeSet:
#      id: 4
#      author: i
#      comment: "Create default user roles"
#      changes:
#        - insert:
#            tableName: roles
#            columns:
#              - column:
#                  name: name
#                  value: "ROLE_ADMIN"
#        - insert:
#            tableName: roles
#            columns:
#              - column:
#                  name: name
#                  value: "ROLE_CLIENT"
#
#
#  - changeSet:
#      id: 5
#      author: i
#      changes:
#        - createTable:
#            tableName: users_roles
#            columns:
#              - column:
#                  name: user_id
#                  type: int
#                  constraints:
#                    foreignKeyName: fk_user_id
#                    references: users(id)
#                    nullable: false
#              - column:
#                  name: role_id
#                  type: int
#                  constraints:
#                    foreignKeyName: fk_role_id
#                    references: roles(id)
#                    nullable: false
#
#  - changeSet:
#      id: 6
#      author: i
#      comment: "Assign ADMIN role to admin user"
#      changes:
#        - insert:
#            tableName: users_roles
#            columns:
#              - column:
#                  name: user_id
#                  value: 1
#              - column:
#                  name: role_id
#                  value: 1
#
#
#
#
#  - changeSet:
#      id: 7
#      author: i
#      context: legacy
#      sql: "CREATE TABLE new_table (
#              id INT NOT NULL,
#              name VARCHAR(45) NULL,
#              PRIMARY KEY (id));"



# - changeSet:
#      id: 1
#      author: author
#      context: legacy
#      sqlFile:
#        dbms: postgresql
#        path: "sql/base_shop.sql"
#        relativeToChangelogFile: true